using (ScriptAPI) {
    f = AddByte("function");

    switch ((int)f) {
        case 0:
            AddLong("SkillUseUid");
            AddInt("ObjectId");
            AddInt("SkillId");
            AddShort("SkillLevel");
            AddByte("Unknown"); // 0?
            AddByte("Unknown"); // 0?
            DecodeCoordS("Position");
            DecodeCoordF("Speed?");
            AddByte("Unknown");
            AddInt("ServerTick");
            count = AddByte("count");
            for (i = 0; i < count; i++) {
                StartNode("Node " + i);
                AddLong("Unknown");
                AddLong("Unknown");
                AddInt("Unknown");
                AddByte("Unknown");
                AddByte("Unknown");
                EndNode(false);
            }
        case 1:
            AddLong("SkillUseUid");
            AddLong("Unknown");
            AddInt("UserObjectId");
            AddInt("SkillId");
            AddShort("SkillLevel");
            AddByte("Unknown");
            AddByte("Unknown");
            DecodeCoordS("Position?");
            DecodeCoordS("Unknown");
            count = AddByte("count");
            for (i = 0; i < count; i++) {
                StartNode("AttackedMonster " + i);
                AddInt("MobObjectId");
                count2 = AddByte("Unknown");
                for (j = 0; j < count2; j++) {
                    AddByte("Unknown");
                    AddLong("Damage (neg)"); // As negative
                }
                EndNode(false);
            }
        case 3:
            AddInt("Unknown");
            AddInt("Unknown");
            AddInt("Unknown");
            AddByte("Unknown");
            AddInt("Unknown");
        case 4:
            AddInt("MobObjectId");
            AddInt("MobObjectId");
            AddInt("???");
            AddInt("MobHealth");
            AddInt("Unknown");
            AddInt("Unknown");
            AddByte("Unknown");
        case 5:
            AddLong("Unknown");
            AddInt("UserObjectId");
            AddInt("SkillObjectId?"); // increments
            AddByte("Unknown");
            count = AddByte("count");
            for (i = 0; i < count; i++) {
                StartNode("Node " + i);
                AddInt("Unknown");
                count2 = AddByte("Unknown");
                DecodeCoordS("Unknown");
                DecodeCoordF("Unknown");
                for (j = 0; j < count2; j++) {
                    AddByte("Unknown");
                    AddLong("Unknown");
                }
                EndNode(false);
            }
        case 6:
            AddLong("Unknown");
            AddInt("Unknown");
            AddShort("Unknown");
            count = AddByte("count");
            for (i = 0; i < count; i++) {
                StartNode("Node " + i);
                AddInt("Unknown");
                count2 = AddByte("Unknown");
                DecodeCoordS("Unknown");
                DecodeCoordF("Unknown");
                for (j = 0; j < count2; j++) {
                    AddByte("Unknown");
                    AddLong("Unknown");
                }
                EndNode(false);
            }
        case 7:
            AddInt("Unknown");
            count = AddInt("count");
            for (i = 0; i < count; i++) {
                AddInt("Unknown");
            }
        case 8:
            AddLong("Unknown");
            b = AddBool("Unknown");
            if(b) {
                AddInt("Unknown");
                AddShort("Unknown");
                AddInt("Unknown");
                AddInt("Unknown");
            }
    }
}