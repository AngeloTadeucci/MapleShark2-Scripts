using (ScriptAPI) {
    f = AddByte("function");

    AddInt("BuffedObjectId");
    AddInt("BuffObjectId");
    AddInt("BuffOwnerObjectId");
    switch ((int)f) {
        case 0: // additional effect
            DecodeAdditionalEffect();
            AddLong("Unknown"); // 0
        case 1: // buff expired
            // none
        case 2: // skill buff effect (animation?)
            AddInt("Unknown"); // 1
            DecodeAdditionalEffect();
    }
}